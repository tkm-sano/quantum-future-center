{%- assign lang = page.lang -%}
{%- if lang == nil -%}{%- assign lang = site.lang -%}{%- endif -%}
{%- if lang == "" -%}{%- assign lang = "ja" -%}{%- endif -%}

{%- assign theme_key = page.theme -%}
{%- if theme_key == nil or theme_key == "" -%}{%- assign theme_key = "center" -%}{%- endif -%}
{%- assign t = site.data.themes[theme_key] -%}

<!doctype html>
<html lang="{{ lang }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ page.title }} | {{ site.title }}</title>
  <meta name="theme-color" content="{{ t.primary }}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Noto+Sans+JP:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
  <style>
    :root{
      --bg: {{ t.bg }}; --surface: {{ t.surface }}; --ink: {{ t.ink }};
      --primary: {{ t.primary }}; --secondary: {{ t.secondary }};
      --radius: {{ site.data.themes.base.radius }};
      --font-jp: {{ site.data.themes.base.font_jp | jsonify }};
      --font-en: {{ site.data.themes.base.font_en | jsonify }};
    }
  </style>
</head>
<body>
  {% include nav.html theme_key=theme_key %}
  <main id="main" class="container">
    {{ content }}
  </main>
  <footer class="site-footer">
    <div class="container">
      <small>Â© {{ "now" | date: "%Y" }} {{ site.title }}</small>
    </div>
  </footer>
</body>
</html>